<!doctype html>
<html lang="en-us">

    <head>

        <!-- Meta -->
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title>Submission</title>
        <meta name="description" content="Local EGA in Norway">

        <!-- The compiled CSS file -->
        <link rel="stylesheet" href="css/production.css">

        <!-- Web fonts -->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,700|Source+Serif+Pro:700" rel="stylesheet"> 

        <!-- favicon.ico. Place these in the root directory. -->
        <link rel="shortcut icon" href="/img/favicon.ico">

    </head>

    <body class="has-animations">

    <div class="mr1 pt1 align--center-on-mobile">
        <div class="grid-row">
            <div class="grid-column align--right small">
                <a href="/about.html" class="link link--text">About</a>&nbsp;&nbsp;&nbsp;
                <a href="/pp.html" class="link link--text">Privacy Policy</a>&nbsp;&nbsp;&nbsp;
                <a href="/tos.html" class="link link--text">Terms of Service</a>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="align--center pt3">
        <div class="container--lg border--bottom pb3">
            <a href="/"><img class="logo mb3 reveal-on-scroll is-revealing" style="max-height: 200px;" src="/img/logo.png" alt="Norwegian Federated EGA node"></a>
            <h1 class="mb2">Norwegian Federated EGA node</h1>
            <h2 class="mt3">Submission</h2>
        </div>
    </header>

    <main>

        <!-- Feature list -->
        <div class="container pt3 mt2 text--gray align--center">
            <p class="mb3">
                Before the start, please, make sure that you have all the required software installed.
                All the required tools are open-source and developed by Elixir developers.
                Please, avoid using any third-party tools that are not listed on this page.
            </p>
            <div class="grid-row">
                <div class="grid-column span-half mb3 reveal-on-scroll is-revealing">
                    <img class="illustration--small mb1" src="/img/encryption.svg" alt="Powerful search">
                    <p><a class="link link--text" target="_blank" href="https://github.com/elixir-oslo/crypt4gh">Encryption tool</a></p>
                </div>
                <div class="grid-column span-half mb3 reveal-on-scroll is-revealing">
                    <img class="illustration--small mb1" src="/img/uploading.svg" alt="Put in a vault">
                    <p><a class="link link--text" target="_blank" href="https://github.com/uio-bmi/lega-uploader">Uploading tool</a></p>
                </div>
            </div>
        </div>

        <!-- Focus -->
        <div class="container--lg pt1 pb1">

            <div class="grid-row grid-row--center">
                <div class="grid-column mt3 mb2 order-2">
                    <div class="border--bottom pb2 mb2">
                        <a id="encryption"></a><h2><a href="#encryption" class="link link--text">1. Encryption</a></h2>
                        <p class="mt2">
                            In order to deposit your data, it must me encrypted first with <code>crypt4gh</code> tool.
                        </p>
                        <p class="mt2">
                            The <a class="link link--text" target="_blank" href="/ega.pub.pem">public key</a> of the instance should be downloaded first. Then your own key-pair should be generated.
                        </p>
                        <p class="mt2">
                            Finally, the encryption can be performed.
                        </p>
                    </div>
                    <p class="italic text--gray mb1">
                        You can find more details on the tool <a class="link link--text" target="_blank" href="https://github.com/elixir-oslo/crypt4gh">page</a> at the GitHub.
                    </p>
                </div>
                <div class="grid-column span-1"></div>
                <div class="grid-column mt3 mb2 order-1 reveal-on-scroll is-revealing">
                    <script src="https://gist.github.com/dtitov/ee546faa4036477217f7548b46f7e1b7.js"></script>
                </div>
            </div>

            <div class="grid-row grid-row--center">
                <div class="grid-column mt3 mb2 reveal-on-scroll is-revealing">
                    <script src="https://gist.github.com/dtitov/d09b5e7be0fd5f3571125500047f631f.js"></script>
                </div>
                <div class="grid-column span-1"></div>
                <div class="grid-column mt3 mb2">
                    <div class="border--bottom pb2 mb2">
                        <a id="authentication"></a><h2><a href="#authentication" class="link link--text">2. Authentication</a></h2>
                        <p class="mt2">
                            Before uploading the data, you need to set the authentication environment variables.
                        </p>
                        <p class="mt2">
                            First, you must set <code>CENTRAL_EGA_USERNAME</code> and <code>CENTRAL_EGA_PASSWORD</code>. This is your <a class="link link--text" target="_blank" href="https://ega-archive.org/">EGA</a> credentials.
                        </p>
                        <p class="mt2">
                            Second, you have to set <code>ELIXIR_AAI_TOKEN</code>. This is a JWT token that can be generated on this website after successful Elixir AAI authentication: <a class="link link--text" target="_blank" href="https://ega.elixir.no/token.html">https://ega.elixir.no/token.html</a>
                        </p>
                    </div>
                    <p class="italic text--gray mb1">
                        Note that <code>ELIXIR_AAI_TOKEN</code> has an expiration time of nearly two hours, so one would need to re-obtain and re-set it upon expiration.
                    </p>
                </div>
            </div>

            <div class="grid-row grid-row--center">
                <div class="grid-column mt3 mb2 order-2">
                    <div class="border--bottom pb2 mb2">
                        <a id="uploading"></a><h2><a href="#uploading" class="link link--text">3. Uploading</a></h2>
                        <p class="mt2">
                            At last, you can perform the actual upload of the previously encrypted data, using <code>lega-uploader</code> tool.
                        </p>
                        <p class="mt2">
                            Uploads are processed in chunks, so it is possible to resume the upload in case of unexpected interruption.
                        </p>
                        <p class="mt2">
                            It is also possible to upload directories with files. In this case one must specify a folder name instead of the filename.
                            Please, keep in mind that the hierarchy of the subfolders is not preserved, i.e. if you have files in multiple nested folders, they all will end up in one folder on the server.
                        </p>
                    </div>
                    <p class="italic text--gray mb1">
                        You can find more details on the tool <a class="link link--text" target="_blank" href="https://github.com/uio-bmi/lega-uploader">page</a> at the GitHub.
                    </p>
                </div>
                <div class="grid-column span-1"></div>
                <div class="grid-column mt3 mb2 order-1 reveal-on-scroll is-revealing">
                    <script src="https://gist.github.com/dtitov/dfe73a792685e6b9be81228b234c886c.js"></script>
                </div>
            </div>

            <div class="grid-row grid-row--center">
                <div class="grid-column mt3 mb2 reveal-on-scroll is-revealing">
                    <img src="/img/assign.svg" alt="Metadata">
                </div>
                <div class="grid-column span-1"></div>
                <div class="grid-column mt3 mb2">
                    <div class="border--bottom pb2 mb2">
                        <a id="metadata"></a><h2><a href="#metadata" class="link link--text">4. Submitting metadata</a></h2>
                        <p class="mt2">
                            After successful upload, the metadata about the submission must be entered at the <a class="link link--text" target="_blank" href="https://ega-archive.org/submission/tools/submitter-portal">EGA Submitter Portal</a>.
                        </p>
                        <p class="mt2">
                            The detailed <a class="link link--text" target="_blank" href="https://ega-archive.org/submission/FAQ">FAQ</a> about the metadata submission is available at the EGA website.
                        </p>
                    </div>
                    <p class="italic text--gray mb1">
                        If you have any questions regarding metadata submission to the EGA, please contact the <a href="mailto:helpdesk@ega-archive.org" class="link link--text">EGA-Helpdesk</a>.
                    </p>
                </div>
            </div>

        </div>



    </main>

    <!-- Footer -->
    <footer class="pt1 pb3 align--center-on-mobile">
        <div class="container">
            <div class="grid-row">
                <div class="grid-column mt2 span-half">
                    <p class="small">Design by <a href="https://www.papayatemplates.com" class="link link--text">Papaya</a>. Illustrations from&nbsp;<a href="https://undraw.co/" class="link link--text">Undraw</a>.</p>
                </div>
                <div class="grid-column mt2 span-half align--right align--center-on-mobile">
                    <ul class="no-bullets list--inline">
                        <li class="mr1"><a href="mailto:contact@bioinfo.no" class="link"><img class="icon" src="/img/mail.svg" alt="Contact"></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll reveal -->
    <script src="js/scrollreveal.min.js"></script>

    <!-- The compiled JavaScript file -->
    <script src="js/production.js"></script>

    <!-- Cookies popup -->
    <script type="text/javascript" id="cookieinfo" src="js/cookieinfo.min.js" data-moreinfo="/pp.html"></script>

    </body>
</html>

